(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7052)}])},7052:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Dashboard}});var s=n(5893),d=n(7294),r=n(6977),a=n(5129);function Dashboard(){let e=(0,d.useContext)(r.J),[t,n]=(0,d.useState)([]);return(0,d.useEffect)(()=>{a.Z.get("/estoque").then(e=>n(e.data)).catch(e=>console.error(e))},[]),(0,d.useEffect)(()=>{let handler=e=>{n(t=>{let n=t.findIndex(t=>t._id===e._id);if(n>=0){let s=[...t];return s[n]=e,s}return[e,...t]})};return e.on("stockUpdate",handler),()=>e.off("stockUpdate",handler)},[e]),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h1",{className:"text-2xl mb-4",children:"Dashboard de Estoque"}),(0,s.jsxs)("table",{className:"w-full table-auto",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Produto"}),(0,s.jsx)("th",{children:"Qtd"}),(0,s.jsx)("th",{children:"Status"})]})}),(0,s.jsx)("tbody",{children:t.map(e=>(0,s.jsxs)("tr",{className:e.isLowStock?"bg-red-100":"",children:[(0,s.jsx)("td",{children:e.nome}),(0,s.jsx)("td",{children:e.quantidade}),(0,s.jsx)("td",{children:e.isLowStock?"\uD83D\uDD34 Baixo":"\uD83D\uDFE2 OK"})]},e._id))})]})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);