"use strict";(()=>{var e={};e.id=405,e.ids=[405,888,660],e.modules={1725:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>b,default:()=>u,getServerSideProps:()=>h,getStaticPaths:()=>x,getStaticProps:()=>p,reportWebVitals:()=>S,routeModule:()=>j,unstable_getServerProps:()=>f,unstable_getServerSideProps:()=>P,unstable_getStaticParams:()=>_,unstable_getStaticPaths:()=>g,unstable_getStaticProps:()=>m});var s=r(7093),i=r(5244),o=r(1323),l=r(4003),d=r(9597),n=r(7052),c=e([d,n]);[d,n]=c.then?(await c)():c;let u=(0,o.l)(n,"default"),p=(0,o.l)(n,"getStaticProps"),x=(0,o.l)(n,"getStaticPaths"),h=(0,o.l)(n,"getServerSideProps"),b=(0,o.l)(n,"config"),S=(0,o.l)(n,"reportWebVitals"),m=(0,o.l)(n,"unstable_getStaticProps"),g=(0,o.l)(n,"unstable_getStaticPaths"),_=(0,o.l)(n,"unstable_getStaticParams"),f=(0,o.l)(n,"unstable_getServerProps"),P=(0,o.l)(n,"unstable_getServerSideProps"),j=new s.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/index",pathname:"/",bundlePath:"",filename:""},components:{App:d.default,Document:l.default},userland:n});a()}catch(e){a(e)}})},7052:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>Dashboard});var s=r(997),i=r(6689),o=r(6977),l=r(7201),d=e([o,l]);function Dashboard(){let e=(0,i.useContext)(o.J),[t,r]=(0,i.useState)([]);return(0,i.useEffect)(()=>{l.Z.get("/estoque").then(e=>r(e.data)).catch(e=>console.error(e))},[]),(0,i.useEffect)(()=>{let handler=e=>{r(t=>{let r=t.findIndex(t=>t._id===e._id);if(r>=0){let a=[...t];return a[r]=e,a}return[e,...t]})};return e.on("stockUpdate",handler),()=>e.off("stockUpdate",handler)},[e]),(0,s.jsxs)("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl mb-4",children:"Dashboard de Estoque"}),(0,s.jsxs)("table",{className:"w-full table-auto",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{children:[s.jsx("th",{children:"Produto"}),s.jsx("th",{children:"Qtd"}),s.jsx("th",{children:"Status"})]})}),s.jsx("tbody",{children:t.map(e=>(0,s.jsxs)("tr",{className:e.isLowStock?"bg-red-100":"",children:[s.jsx("td",{children:e.nome}),s.jsx("td",{children:e.quantidade}),s.jsx("td",{children:e.isLowStock?"\uD83D\uDD34 Baixo":"\uD83D\uDFE2 OK"})]},e._id))})]})]})}[o,l]=d.then?(await d)():d,a()}catch(e){a(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9648:e=>{e.exports=import("axios")},3590:e=>{e.exports=import("react-toastify")},4612:e=>{e.exports=import("socket.io-client")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[761,544,859,450,597,3],()=>__webpack_exec__(1725));module.exports=r})();